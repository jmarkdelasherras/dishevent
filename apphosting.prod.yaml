# Production Environment Configuration
runConfig:
  minInstances: 1
  maxInstances: 10
  concurrency: 80
  cpu: 1
  memoryMiB: 1024
  entrypoint: "node server.js"

env:
  # Runtime environment variables
  - variable: "NODE_ENV"
    value: "production"
  - variable: "PORT"
    value: "8080"
  - variable: "NEXT_PUBLIC_APP_ENV"
    value: "production"
    
  # Firebase client configuration for production
  - variable: "NEXT_PUBLIC_FIREBASE_API_KEY"
    secret: "firebase_api_key_prod"
    availability:
      - BUILD
      - RUNTIME
  - variable: "NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"
    secret: "firebase_auth_domain_prod"
    availability:
      - BUILD
      - RUNTIME
  - variable: "NEXT_PUBLIC_FIREBASE_PROJECT_ID"
    secret: "firebase_project_id_prod"
    availability:
      - BUILD
      - RUNTIME
  - variable: "NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"
    secret: "firebase_storage_bucket_prod"
    availability:
      - BUILD
      - RUNTIME
  - variable: "NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"
    secret: "firebase_messaging_sender_id_prod"
    availability:
      - BUILD
      - RUNTIME
  - variable: "NEXT_PUBLIC_FIREBASE_APP_ID"
    secret: "firebase_app_id_prod"
    availability:
      - BUILD
      - RUNTIME
  - variable: "NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID"
    secret: "firebase_measurement_id_prod"
    availability:
      - BUILD
      - RUNTIME
      
  # Firebase Admin (secret)
  - variable: "FIREBASE_SERVICE_ACCOUNT_KEY"
    secret: "firebase_service_account_prod"
    availability:
      - BUILD
      - RUNTIME